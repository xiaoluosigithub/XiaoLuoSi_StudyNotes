![](https://i-blog.csdnimg.cn/blog_migrate/82eee1d6e31ca69af7b52b6d4fa63964.gif)

![](https://i-blog.csdnimg.cn/blog_migrate/db5b217e3e95f152f6d6db2bbface2c9.png)

![962f7cb1b48f44e29d9beb1d499d0530.gif](https://i-blog.csdnimg.cn/blog_migrate/ac3c5d6bfbcbf982e8e9e3632d7f20d1.gif)ã€YOLOv5æ”¹è¿›ç³»åˆ—ã€‘å‰æœŸå›é¡¾ï¼š

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ0ï¼‰â€”â€”é‡è¦æ€§èƒ½æŒ‡æ ‡ä¸è®­ç»ƒç»“æœè¯„ä»·åŠåˆ†æ][YOLOv5_0]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ1ï¼‰â€”â€”æ·»åŠ SEæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_1_SE]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ2ï¼‰â€”â€”æ·»åŠ CBAMæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_2_CBAM]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ3ï¼‰â€”â€”æ·»åŠ CAæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_3_CA]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ4ï¼‰â€”â€”æ·»åŠ ECAæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_4_ECA]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ5ï¼‰â€”â€”æ›¿æ¢ä¸»å¹²ç½‘ç»œä¹‹ MobileNetV3][YOLOv5_5_ MobileNetV3]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ6ï¼‰â€”â€”æ›¿æ¢ä¸»å¹²ç½‘ç»œä¹‹ ShuffleNetV2][YOLOv5_6_ ShuffleNetV2]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ7ï¼‰â€”â€”æ·»åŠ SimAMæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_7_SimAM]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ8ï¼‰â€”â€”æ·»åŠ SOCAæ³¨æ„åŠ›æœºåˆ¶][YOLOv5_8_SOCA]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ9ï¼‰â€”â€”æ›¿æ¢ä¸»å¹²ç½‘ç»œä¹‹EfficientNetv2][YOLOv5_9_EfficientNetv2]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ10ï¼‰â€”â€”æ›¿æ¢ä¸»å¹²ç½‘ç»œä¹‹GhostNet][YOLOv5_10_GhostNet]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ11ï¼‰â€”â€”æ·»åŠ æŸå¤±å‡½æ•°ä¹‹EIoUã€AlphaIoUã€SIoUã€WIoU][YOLOv5_11_EIoU_AlphaIoU_SIoU_WIoU]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ12ï¼‰â€”â€”æ›´æ¢Neckä¹‹BiFPN][YOLOv5_12_Neck_BiFPN]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ13ï¼‰â€”â€”æ›´æ¢æ¿€æ´»å‡½æ•°ä¹‹SiLUï¼ŒReLUï¼ŒELUï¼ŒHardswishï¼ŒMishï¼ŒSoftplusï¼ŒAconCç³»åˆ—ç­‰][YOLOv5_13_SiLU_ReLU_ELU_Hardswish_Mish_Softplus_AconC]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ14ï¼‰â€”â€”æ›´æ¢NMSï¼ˆéæå¤§æŠ‘åˆ¶ï¼‰ä¹‹ DIoU-NMSã€CIoU-NMSã€EIoU-NMSã€GIoU-NMS ã€SIoU-NMSã€Soft-NMS][YOLOv5_14_NMS_ DIoU-NMS_CIoU-NMS_EIoU-NMS_GIoU-NMS _SIoU-NMS_Soft-NMS]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ15ï¼‰â€”â€”å¢åŠ å°ç›®æ ‡æ£€æµ‹å±‚][YOLOv5_15]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ16ï¼‰â€”â€”æ·»åŠ EMAæ³¨æ„åŠ›æœºåˆ¶ï¼ˆICASSP2023|å®æµ‹æ¶¨ç‚¹ï¼‰][YOLOv5_16_EMA_ICASSP2023]

[YOLOv5æ”¹è¿›ç³»åˆ—ï¼ˆ17ï¼‰â€”â€”æ›´æ¢IoUä¹‹MPDIoUï¼ˆELSEVIER 2023|è¶…è¶ŠWIoUã€EIoUç­‰|å®æµ‹æ¶¨ç‚¹ï¼‰][YOLOv5_17_IoU_MPDIoU_ELSEVIER 2023_WIoU_EIoU]

![](https://i-blog.csdnimg.cn/blog_migrate/3d0a0a91e7a91cef9cbf6b7245bd6108.gif)

ç›®å½•

[ğŸš€ä¸€ã€AFPNä»‹ç» ][AFPN_]

[1.1 ç®€ä»‹][1.1]

[1.2 æå–å¤šçº§ç‰¹å¾ ][1.2 _]

[1.3 æ¸è¿›æ¶æ„][1.3]

[1.4 è‡ªé€‚åº”ç©ºé—´èåˆ][1.4]

[1.5 å®éªŒ][1.5]

[ğŸš€äºŒã€æ›´æ¢AFPNçš„æ–¹æ³• ][AFPN_ 1]

[ç¬¬â‘ æ­¥ï¼šåœ¨common.pyä¸­æ·»åŠ AFPNæ¨¡å—][common.py_AFPN]

[ç¬¬â‘¡æ­¥ï¼šåœ¨yolo.pyæ–‡ä»¶é‡Œçš„parse\_modelå‡½æ•°åŠ å…¥ç±»å][yolo.py_parse_model]

[ç¬¬â‘¢æ­¥ï¼šåˆ›å»ºè‡ªå®šä¹‰çš„yamlæ–‡ä»¶ ][yaml_]

[ğŸŒŸæœ¬äººYOLOv5ç³»åˆ—å¯¼èˆª][YOLOv5]

![](https://i-blog.csdnimg.cn/blog_migrate/735634204d490c98716751c36f279c24.gif)

## ğŸš€ä¸€ã€AFPNä»‹ç» 

>  *  è®ºæ–‡é¢˜ç›®ï¼šã€ŠAFPN: Asymptotic Feature Pyramid Network for Object Detectionã€‹
>  *  åŸæ–‡åœ°å€ï¼š[https://arxiv.org/abs/2306.15988v1][https_arxiv.org_abs_2306.15988v1]
>  *  ä»£ç åœ°å€ï¼š [GitHub - gyyang23/AFPN][GitHub - gyyang23_AFPN]

### ![](https://i-blog.csdnimg.cn/blog_migrate/530153b3ea43432514ff63b054fd46c3.png)1.1 ç®€ä»‹ 

å¤šå°ºåº¦ç‰¹å¾åœ¨ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­å¯¹å…·æœ‰å°ºåº¦æ–¹å·®çš„ç›®æ ‡è¿›è¡Œç¼–ç æ—¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚å¤šå°ºåº¦ç‰¹å¾æå–çš„ä¸€ç§å¸¸è§ç­–ç•¥æ˜¯é‡‡ç”¨ç»å…¸çš„è‡ªä¸Šè€Œä¸‹å’Œè‡ªä¸‹è€Œä¸Šçš„ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•é­å—ç‰¹å¾ä¿¡æ¯çš„ä¸¢å¤±æˆ–é€€åŒ–ï¼Œå‰Šå¼±äº†éç›¸é‚» Level çš„èåˆæ•ˆæœã€‚

æœ¬æ–‡ä½¿ç”¨äº†ä¸€ç§æ¸è¿›ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œAFPNæ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚åœ¨è‡ªä¸‹è€Œä¸Šçš„ç‰¹å¾æå–è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆé€šè¿‡ç»„åˆä¸¤ä¸ªå…·æœ‰ä¸åŒåˆ†è¾¨ç‡çš„ä½å±‚ç‰¹å¾æ¥å¯åŠ¨èåˆè¿‡ç¨‹ã€‚æ¥ç€é€æ¸å°†é«˜å±‚ç‰¹å¾çº³å…¥èåˆè¿‡ç¨‹ï¼Œæœ€ç»ˆèåˆä¸»å¹²ç½‘ç»œçš„é¡¶çº§ç‰¹å¾ã€‚è¿™ç§èåˆæ–¹å¼å¯ä»¥é¿å…éç›¸é‚»å±‚æ¬¡ä¹‹é—´å­˜åœ¨è¾ƒå¤§çš„è¯­ä¹‰å·®è·ã€‚

åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹å­¦ä¹ äº†ç©ºé—´æ»¤æ³¢å†²çªä¿¡æ¯æ¥æŠ‘åˆ¶ä¸ä¸€è‡´æ€§çš„æ–¹æ³•ï¼Œé’ˆå¯¹æœ‰åˆ©ç”¨ä»·å€¼çš„ä¿¡æ¯ä¿ç•™åå†åŠ ä»¥ç»„åˆï¼Œè‡ªåŠ¨åœ°å­¦ä¹ æƒé‡å‚æ•°ï¼Œä»¥æ¸è¿›çš„æ–¹å¼å°†ä½å±‚ç‰¹å¾ä¸é«˜å±‚ç‰¹å¾çš„è¯­ä¹‰ä¿¡æ¯å’Œè¯¦ç»†ä¿¡æ¯ç›´æ¥ç›¸äº’èåˆï¼Œé¿å…äº†å¤šçº§ä¼ è¾“ä¸­çš„ä¿¡æ¯ä¸¢å¤±æˆ–é€€åŒ–ï¼Œæé«˜ç‰¹å¾å°ºåº¦çš„ä¸å˜æ€§ï¼Œå¹¶ä¸”å¼•å…¥çš„è®¡ç®—å¼€é”€å¾ˆå°ï¼Œå®ç°ç®€å•ã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/10a2f59ecc38e1e8bef228d73be9b0a3.png)

### 1.2 æå–å¤šçº§ç‰¹å¾ 

AFPNæ¡†æ¶é¦–å…ˆä»ä¸»å¹²ç½‘ç»œçš„æ¯ä¸ªç‰¹å¾å±‚æå–æœ€åä¸€å±‚ç‰¹å¾ï¼Œäº§ç”Ÿä¸€ç»„ä¸åŒå°ºåº¦çš„ç‰¹å¾ï¼Œè¡¨ç¤ºä¸º\{C2, C3, C4, C5\}ã€‚

æ¥ç€å°†ä½å±‚ç‰¹å¾C2å’ŒC3è¾“å…¥åˆ°ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œä¸­ï¼Œè¿›è¡Œä¸€æ¬¡ç‰¹å¾èåˆï¼Œç„¶åæ·»åŠ C4ï¼Œå’Œä¹‹å‰æ·»åŠ çš„C2ã€C3ä¸€èµ·åšç‰¹å¾èåˆï¼Œæœ€åæ·»åŠ C5ï¼Œå’Œä¹‹å‰æ·»åŠ çš„å±‚ç»§ç»­åšç‰¹å¾èåˆã€‚æœ€åäº§ç”Ÿä¸€ç»„å¤šå°ºåº¦ç‰¹å¾\{P2, P3, P4, P5\}ã€‚

å¯¹äºåœ¨Faster R-CNNæ¡†æ¶ä¸Šè¿›è¡Œçš„å®éªŒï¼Œä½œè€…å°†Strideä¸º2çš„å·ç§¯åº”ç”¨äºP5ï¼Œç„¶åå†åº”ç”¨Strideä¸º1çš„å·ç§¯æ¥ç”ŸæˆP6ï¼Œè¿™ç¡®ä¿äº†ç»Ÿä¸€çš„è¾“å‡ºã€‚æœ€åä¸€ç»„å¤šå°ºåº¦ç‰¹å¾æ˜¯\{P2, P3, P4, P5, P6\}ï¼Œå¯¹åº”çš„ç‰¹å¾Strideä¸º\{4, 8, 16, 32, 64\}ä¸ªåƒç´ ã€‚

### 1.3 æ¸è¿›æ¶æ„ 

![](https://i-blog.csdnimg.cn/blog_migrate/d424e43f745252a7453f86d578c45900.png)

åœ¨ä¸»å¹²ç½‘ç»œè‡ªä¸‹è€Œä¸Šçš„ç‰¹å¾æå–è¿‡ç¨‹ä¸­ï¼ŒAFPNæœ€åˆèåˆäº†ä½å±‚ç‰¹å¾ï¼Œç„¶åèåˆäº†æ·±å±‚ç‰¹å¾ï¼Œæœ€åèåˆäº†æœ€é«˜å±‚çš„ç‰¹å¾ï¼Œå³æœ€æŠ½è±¡çš„ç‰¹å¾ã€‚

ä¸ºäº†é¿å…éç›¸é‚»å±‚æ¬¡ç‰¹å¾ä¹‹é—´çš„è¯­ä¹‰å·®è·å¤§äºç›¸é‚»å±‚æ¬¡ç‰¹å¾é—´çš„è¯­ä¹‰å·®è·ï¼Œå¯¼è‡´çš„éç›¸é‚»å±‚æ¬¡ç‰¹å¾çš„èåˆæ•ˆæœè¾ƒå·®é—®é¢˜ï¼ŒAFPNçš„æ¶æ„é‡‡å–æ¸è¿›æ¨¡å¼ï¼Œæ¯ä¸€å±‚åŒ…å«å‰ä¸€å±‚çš„ç‰¹å¾ä¿¡æ¯ï¼Œè¿™å°†ä½¿ä¸åŒ Level ç‰¹å¾çš„è¯­ä¹‰ä¿¡æ¯åœ¨æ¸è¿›èåˆè¿‡ç¨‹ä¸­æ›´åŠ æ¥è¿‘ã€‚

å¦å¤–ï¼Œä¸ºäº†å¯¹é½ç»´åº¦å¹¶ä¸ºç‰¹å¾èåˆåšå‡†å¤‡ï¼Œæ¨¡å‹ä½¿ç”¨1Ã—1å·ç§¯å±‚å’ŒåŒçº¿æ€§æ’å€¼æ–¹æ³•å¯¹ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·ï¼Œå¹¶æ ¹æ®æ‰€éœ€çš„ä¸‹é‡‡æ ·ç‡ä½¿ç”¨ä¸åŒçš„å·ç§¯æ ¸å’Œæ­¥é•¿æ¥æ‰§è¡Œä¸‹é‡‡æ ·ã€‚

åœ¨ç‰¹å¾èåˆä¹‹åï¼Œä½œè€…ä½¿ç”¨4ä¸ªæ®‹å·®å•å…ƒç»§ç»­å­¦ä¹ ç‰¹å¾ï¼Œè¿™äº›æ®‹å·®å•å…ƒç±»ä¼¼äºResNetï¼Œæ¯ä¸ªæ®‹å·®å•å…ƒåŒ…æ‹¬2ä¸ª3Ã—3å·ç§¯ã€‚ç”±äºYOLOä¸­åªä½¿ç”¨äº†3ä¸ª Level çš„ç‰¹å¾ï¼Œå› æ­¤æ²¡æœ‰8æ¬¡ä¸Šé‡‡æ ·å’Œ8æ¬¡ä¸‹é‡‡æ ·ã€‚

### 1.4 è‡ªé€‚åº”ç©ºé—´èåˆ 

åœ¨å¤šçº§ç‰¹å¾èåˆè¿‡ç¨‹ä¸­ï¼Œä½œè€…åˆ©ç”¨ASFFä¸ºä¸åŒ Level çš„ç‰¹å¾åˆ†é…ä¸åŒçš„ç©ºé—´æƒé‡ï¼Œä¸åŸºäºå…ƒç´ å’Œæˆ–çº§è”çš„å¤šå±‚æ¬¡ç‰¹å¾èåˆæ–¹æ³•ä¸åŒï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯è‡ªé€‚åº”åœ°å­¦ä¹ å„å°ºåº¦ç‰¹å¾ï¼Œæ˜ å°„èåˆçš„ç©ºé—´æƒé‡ï¼Œé€šè¿‡å­¦ä¹ æƒé‡å‚æ•°çš„æ–¹å¼å°†ä¸åŒå±‚çš„ç‰¹å¾èåˆåˆ°ä¸€èµ·ï¼Œå¯ä½¿ç½‘ç»œè‡ªåŠ¨å­¦ä¹ è¿‡æ»¤æ‰å…¶ä»–å±‚çš„æ— ç”¨ä¿¡æ¯ï¼Œä¿ç•™æœ‰æ•ˆä¿¡æ¯ï¼Œä»è€Œé«˜æ•ˆåœ°èåˆç‰¹å¾ã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/092ffc972c40e6ec8a075776daa03e75.png) é€‚åº”ç©ºé—´ç‰¹å¾èåˆASFF(Adaptive Spatial Feature Fusion)ç»“æ„å›¾

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä½œè€…èåˆäº†3ä¸ªå±‚æ¬¡çš„ç‰¹å¾ã€‚è®©![{x_{ij}}^{n->l}](https://latex.csdn.net/eq?%7Bx_%7Bij%7D%7D%5E%7Bn-%3El%7D)è¡¨ç¤ºä» Level nåˆ° Level ![l](https://latex.csdn.net/eq?l)çš„ä½ç½®(i,j)å¤„çš„ç‰¹å¾å‘é‡ã€‚ç»“æœç‰¹å¾å‘é‡è¡¨ç¤ºä¸º![l](https://latex.csdn.net/eq?l)ï¼Œé€šè¿‡å¤šçº§ç‰¹å¾çš„è‡ªé€‚åº”ç©ºé—´èåˆè·å¾—ï¼Œå¹¶ç”±ç‰¹å¾å‘é‡çš„çº¿æ€§ç»„åˆ![{x_{ij}}^{1->l}](https://latex.csdn.net/eq?%7Bx_%7Bij%7D%7D%5E%7B1-%3El%7D)ï¼Œ![{x_{ij}}^{2->l}](https://latex.csdn.net/eq?%7Bx_%7Bij%7D%7D%5E%7B2-%3El%7D)å’Œ![{x_{ij}}^{3->l}](https://latex.csdn.net/eq?%7Bx_%7Bij%7D%7D%5E%7B3-%3El%7D)å¦‚ä¸‹ï¼š

![](https://i-blog.csdnimg.cn/blog_migrate/cd5d483749ef91a053927545edff24f5.png)

### 1.5 å®éªŒ 

ï¼ˆ1ï¼‰è¡¨Iä¸MS-COCO VAL2017ä¸Šä¸åŒç‰¹å¾é‡‘å­—å¡”ç½‘ç»œçš„æ¯”è¾ƒã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/52010022e6e7b7e733901dc3ffd341ce.png)

ï¼ˆ2ï¼‰è¡¨IIä¸MS-COCOæµ‹è¯•å¼€å‘ä¸­ä¸åŒç‰¹å¾é‡‘å­—å¡”ç½‘ç»œçš„æ¯”è¾ƒã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/1af6758b2dbacaabb1e005505bcb7293.png)

ï¼ˆ3ï¼‰è¡¨III ä¸å…¶ä»–ä¸¤çº§ç›®æ ‡æ¢æµ‹å™¨çš„æ¯”è¾ƒã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/58ca6ba8bff13bd4a8e79265d67f6fa9.png)

ï¼ˆ4ï¼‰è¡¨IV AFPNå¯¹YOLOV5çš„è´¡çŒ®ã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/c588ff9bc2a9e1aaaf55ec7dbff5bc58.png)

ï¼ˆ5ï¼‰è¡¨V æ¶ˆèå®éªŒã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/886195188988dd5410d252b2ef30b0e6.png)

## ğŸš€äºŒã€æ›´æ¢AFPNçš„æ–¹æ³• 

#### ç¬¬â‘ æ­¥ï¼šåœ¨common.pyä¸­æ·»åŠ AFPNæ¨¡å— 

```java
class Upsample(nn.Module):
    """Applies convolution followed by upsampling."""
# ---1.æ¸è¿›æ¶æ„éƒ¨åˆ†ï¼ˆèåˆå‰çš„å‡†å¤‡ï¼‰--- #
    def __init__(self, c1, c2, scale_factor=2):
        super().__init__()
        # self.cv1 = Conv(c1, c2, 1)
        # self.upsample = nn.Upsample(scale_factor=scale_factor, mode='nearest')  # or model='bilinear' non-deterministic
        if scale_factor == 2:
            self.cv1 = nn.ConvTranspose2d(c1, c2, 2, 2, 0, bias=True)  # å¦‚æœä¸‹é‡‡æ ·ç‡ä¸º2ï¼Œå°±ç”¨Strideä¸º2çš„2Ã—2å·ç§¯æ¥å®ç°2æ¬¡ä¸‹é‡‡æ ·
        elif scale_factor == 4:
            self.cv1 = nn.ConvTranspose2d(c1, c2, 4, 4, 0, bias=True)  # å¦‚æœä¸‹é‡‡æ ·ç‡ä¸º4ï¼Œå°±ç”¨Strideä¸º4çš„4Ã—4å·ç§¯æ¥å®ç°4æ¬¡ä¸‹é‡‡æ ·

    def forward(self, x):
        # return self.upsample(self.cv1(x))
        return self.cv1(x)

# ---2.è‡ªé€‚åº”ç©ºé—´èåˆï¼ˆASFFï¼‰--- #
class ASFF2(nn.Module):
    """ASFF2 module for YOLO AFPN head https://arxiv.org/abs/2306.15988"""

    def __init__(self, c1, c2, level=0):
        super().__init__()
        c1_l, c1_h = c1[0], c1[1]
        self.level = level
        self.dim = c1_l, c1_h
        self.inter_dim = self.dim[self.level]
        compress_c = 8
       
#å¦‚æœæ˜¯ç¬¬0å±‚
        if level == 0:
# self.stride_level_1è°ƒæ•´level-1å‡ºæ¥çš„ç‰¹å¾å›¾ï¼Œé€šé“è°ƒæ•´ä¸ºå’Œlevel-0å‡ºæ¥çš„ç‰¹å¾å›¾ä¸€æ ·å¤§å°
            self.stride_level_1 = Upsample(c1_h, self.inter_dim)
#å¦‚æœæ˜¯ç¬¬1å±‚
        if level == 1:
# self.stride_level_0é€šé“è°ƒæ•´ä¸ºå’Œlevel-1å‡ºæ¥çš„ç‰¹å¾å›¾ä¸€æ ·å¤§å°
            self.stride_level_0 = Conv(c1_l, self.inter_dim, 2, 2, 0)  # stride=2 ä¸‹é‡‡æ ·ä¸º2å€


# ä¸¤ä¸ªå·ç§¯ä¸ºäº†å­¦ä¹ æƒé‡
        self.weight_level_0 = Conv(self.inter_dim, compress_c, 1, 1)
        self.weight_level_1 = Conv(self.inter_dim, compress_c, 1, 1)
# ç”¨äºè°ƒæ•´æ‹¼æ¥åçš„ä¸¤ä¸ªæƒé‡çš„é€šé“
        self.weights_levels = nn.Conv2d(compress_c * 2, 2, kernel_size=1, stride=1, padding=0)
        self.conv = Conv(self.inter_dim, self.inter_dim, 3, 1)

    def forward(self, x):
        x_level_0, x_level_1 = x[0], x[1]

# å¦‚æœåœ¨ç¬¬0å±‚
# level-0å‡ºæ¥çš„ç‰¹å¾å›¾ä¿æŒä¸å˜
# è°ƒæ•´level-1çš„ç‰¹å¾å›¾ï¼Œä½¿å¾—å…¶channelã€widthã€heightä¸level-0ä¸€è‡´
        if self.level == 0:
            level_0_resized = x_level_0
            level_1_resized = self.stride_level_1(x_level_1)
# å¦‚æœåœ¨ç¬¬1å±‚ï¼ŒåŒä¸Š
        elif self.level == 1:
            level_0_resized = self.stride_level_0(x_level_0)
            level_1_resized = x_level_1

# å°†N*C*H*Wçš„level-0ç‰¹å¾å›¾å·ç§¯å¾—åˆ°æƒé‡ï¼Œæƒé‡level_0_weight_v:N*256*H*W
        level_0_weight_v = self.weight_level_0(level_0_resized)
        level_1_weight_v = self.weight_level_1(level_1_resized)

# å°†å„ä¸ªæƒé‡çŸ©é˜µæŒ‰ç…§é€šé“æ‹¼æ¥
# levels_weight_vï¼šN*3C*H*W
        levels_weight_v = torch.cat((level_0_weight_v, level_1_weight_v), 1)

# å°†æ‹¼æ¥åçš„çŸ©é˜µè°ƒæ•´ï¼Œæ¯ä¸ªé€šé“å¯¹åº”ç€ä¸åŒçš„level_0_resizedï¼Œlevel_1_resizedçš„æƒé‡
        levels_weight = self.weights_levels(levels_weight_v)

# åœ¨é€šé“ç»´åº¦ï¼Œå¯¹æƒé‡åšå½’ä¸€åŒ–ï¼Œä¹Ÿå°±æ˜¯å¯¹äºäºŒé€šé“tmpï¼štmp[0][0]+tmp[1][0]=1
        levels_weight = F.softmax(levels_weight, dim=1)

# å°†levels_weightå„ä¸ªé€šé“åˆ†åˆ«ä¹˜level_0_resized level_1_resized 
# ç‚¹ä¹˜ç”¨åˆ°äº†å¹¿æ’­æœºåˆ¶
        fused_out_reduced = level_0_resized * levels_weight[:, 0:1] + level_1_resized * levels_weight[:, 1:2]
        return self.conv(fused_out_reduced)

# ASFF3çš„è¿ç®—æµç¨‹åŒä¸Š
class ASFF3(nn.Module):
    """ASFF3 module for YOLO AFPN head https://arxiv.org/abs/2306.15988"""

    def __init__(self, c1, c2, level=0):
        super().__init__()
        c1_l, c1_m, c1_h = c1[0], c1[1], c1[2]
        self.level = level
        self.dim = c1_l, c1_m, c1_h
        self.inter_dim = self.dim[self.level]
        compress_c = 8

        if level == 0:
            self.stride_level_1 = Upsample(c1_m, self.inter_dim)
            self.stride_level_2 = Upsample(c1_h, self.inter_dim, scale_factor=4)

        if level == 1:
            self.stride_level_0 = Conv(c1_l, self.inter_dim, 2, 2, 0)  # downsample 2x
            self.stride_level_2 = Upsample(c1_h, self.inter_dim)

        if level == 2:
            self.stride_level_0 = Conv(c1_l, self.inter_dim, 4, 4, 0)  # downsample 4x
            self.stride_level_1 = Conv(c1_m, self.inter_dim, 2, 2, 0)  # downsample 2x

        self.weight_level_0 = Conv(self.inter_dim, compress_c, 1, 1)
        self.weight_level_1 = Conv(self.inter_dim, compress_c, 1, 1)
        self.weight_level_2 = Conv(self.inter_dim, compress_c, 1, 1)

        self.weights_levels = nn.Conv2d(compress_c * 3, 3, kernel_size=1, stride=1, padding=0)
        self.conv = Conv(self.inter_dim, self.inter_dim, 3, 1)

    def forward(self, x):
        x_level_0, x_level_1, x_level_2 = x[0], x[1], x[2]

        if self.level == 0:
            level_0_resized = x_level_0
            level_1_resized = self.stride_level_1(x_level_1)
            level_2_resized = self.stride_level_2(x_level_2)

        elif self.level == 1:
            level_0_resized = self.stride_level_0(x_level_0)
            level_1_resized = x_level_1
            level_2_resized = self.stride_level_2(x_level_2)

        elif self.level == 2:
            level_0_resized = self.stride_level_0(x_level_0)
            level_1_resized = self.stride_level_1(x_level_1)
            level_2_resized = x_level_2

        level_0_weight_v = self.weight_level_0(level_0_resized)
        level_1_weight_v = self.weight_level_1(level_1_resized)
        level_2_weight_v = self.weight_level_2(level_2_resized)

        levels_weight_v = torch.cat((level_0_weight_v, level_1_weight_v, level_2_weight_v), 1)
        w = self.weights_levels(levels_weight_v)
        w = F.softmax(w, dim=1)

        fused_out_reduced = level_0_resized * w[:, :1] + level_1_resized * w[:, 1:2] + level_2_resized * w[:, 2:]
        return self.conv(fused_out_reduced)
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://i-blog.csdnimg.cn/blog_migrate/f14c6ca1c37f297cdd757ae92f1e1806.png)

#### ç¬¬â‘¡æ­¥ï¼šä¿®æ”¹yolo.pyæ–‡ä»¶ 

å†æ¥ä¿®æ”¹yolo.pyï¼Œåœ¨parse\_modelå‡½æ•°ä¸­æ‰¾åˆ°elif m is Concat: è¯­å¥ï¼Œåœ¨å…¶åé¢åŠ ä¸Šä¸‹é¢ä»£ç ï¼š

```java
elif m is ASFF2:
            c1, c2 = [ch[f[0]], ch[f[1]]], args[0]
            c2 = make_divisible(c2 * gw, 8)
            args = [c1, c2, *args[1:]]
        elif m is ASFF3:
            c1, c2 = [ch[f[0]], ch[f[1]], ch[f[2]]], args[0]
            c2 = make_divisible(c2 * gw, 8)
            args = [c1, c2, *args[1:]]
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 

![](https://i-blog.csdnimg.cn/blog_migrate/5cd425cffeb8993159cbc862ee74c1cc.png)

#### ç¬¬â‘¢æ­¥ï¼šåˆ›å»ºè‡ªå®šä¹‰çš„yamlæ–‡ä»¶ 

yamlæ–‡ä»¶é…ç½®å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```java
# YOLOv5 ğŸš€ by Ultralytics, GPL-3.0 license

# Parameters
nc: 80  # number of classes
depth_multiple: 0.33  # model depth multiple
width_multiple: 0.50  # layer channel multiple
anchors:
  - [10,13, 16,30, 33,23]  # P3/8
  - [30,61, 62,45, 59,119]  # P4/16
  - [116,90, 156,198, 373,326]  # P5/32

# YOLOv5 v6.1 backbone
backbone:
  # [from, repeats, module, args]
  [[-1, 1, Conv, [64, 3, 2]],  # 0-P1/2
   [-1, 1, Conv, [128, 3, 2]],  # 1-P2/4
   [-1, 3, C3, [128]],
   [-1, 1, Conv, [256, 3, 2]], # 3-P3/8
   [-1, 6, C3, [256]],
   [-1, 1, Conv, [512, 3, 2]],  # 5-P4/16
   [-1, 6, C3, [512]],
   [-1, 1, Conv, [1024, 3, 2]],  # 7-P5/32
   [-1, 3, C3, [1024]],
   [-1, 1, SPPF, [1024, 5]],
  ]  # 9

# YOLOv5 v6.1 head
head:
  [[4, 1, Conv, [128, 1, 1]], # 10 downsample backbone P3
   [6, 1, Conv, [256, 1, 1]], # 11 downsample backbone P4

   [[10, 11], 1, ASFF2, [128, 0]], # 12
   [[10, 11], 1, ASFF2, [256, 1]], # 13

   [-2, 1, C3, [128, False]], # 14
   [-2, 1, C3, [256, False]], # 15

   [9, 1, Conv, [512, 1, 1]], # 16 downsample backbone P5

   [[14, 15, 16], 1, ASFF3, [128, 0]], # 17
   [[14, 15, 16], 1, ASFF3, [256, 1]], # 18
   [[14, 15, 16], 1, ASFF3, [512, 2]], # 19

   [17, 1, C3, [256, False]],  # 20 (P3/8-small)
   [18, 1, C3, [512, False]],  # 21 (P4/16-medium)
   [19, 1, C3, [1024, False]],  # 22 (P5/32-large)
  [[20, 21, 22], 1, Detect, [nc, anchors]],  # Detect(P3, P4, P5)
  ]
```

OKï¼å®Œæˆï¼

> ä»£ç æ¥æºï¼š
> 
> [YOLOv5/v7 å¼•å…¥æ¸è¿›ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ AFPN ç»“æ„ | ã€Š2023å¹´6æœˆ28æ—¥æœ€æ–°å‘è¡¨ã€‹\_è¿ªè²èµ«å°”æ›¼çš„åšå®¢-CSDNåšå®¢][YOLOv5_v7 _ AFPN _ _ _2023_6_28_-CSDN]

PSï¼š

ï¼ˆ1ï¼‰æœ¬æ¥æ²¡æœ‰å‡†å¤‡æ”¾è¿™ä¸ªæ”¹è¿›æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªchannelæˆ‘ç ”ç©¶äº†æŒºä¹…ï¼Œä¸€ç›´æŠ¥é”™ï¼Œåæ¥ç›´æ¥å€Ÿé‰´å¤§ä½¬çš„äº†â”—( Tï¹T )â”›ã€‚

å†ä¸€ä¸ªæ›´é‡è¦çš„æ˜¯ï¼Œåœ¨æˆ‘çš„æ•°æ®é›†æ‰ç‚¹äº†ï¼â”—|ï½€Oâ€²|â”› å—·~~w(Ğ”)wã€‚ã€‚ã€‚æˆ‘çš„è¯„ä»·æ˜¯ä¸å¦‚BiFPNã€‚åŒæ ·ï¼Œä¹Ÿæœ‰å¾ˆå¤šå‹å‹ååº”æ‰ç‚¹é—®é¢˜ã€‚å®ƒæ›´å¤§çš„ä¼˜ç‚¹å¯èƒ½å°±æ˜¯å‚æ•°å°‘å­~åæ¥çœ‹åˆ°å¤§å®¶è®¨è®ºï¼Œè¿™ä¸ªæ”¹è¿›å¯èƒ½æ›´é€‚åˆå°æ•°æ®é›†ï¼ˆå¦‚æœåˆé€‚å¯ä»¥è¯•è¯•ï¼Œæˆ‘æ²¡æœ‰éªŒè¯ã€‚ï¼‰

ï¼ˆ2ï¼‰æ˜¨æ™šæˆ‘ä¸€ä¸ªçªå‘å¥‡æƒ³ï¼Œæˆ‘åšäº†å¦‚ä¸‹æ”¹è¿›ï¼š

![](https://i-blog.csdnimg.cn/blog_migrate/ea44cd7bf47a4f66c7b6e96b71ec9420.png)

å°±æ˜¯åœ¨è¿™ä¸‰ä¸ªä½ç½®åŠ äº†EMAæ³¨æ„åŠ›ã€‚

åœ¨æˆ‘çš„æ•°æ®é›†ä¸Šæ¯”CA+BiFPNç»„åˆæ¶¨äº†0.2ï¼Œå¹¶ä¸”å‚æ•°é‡æ›´å°ï¼Œå¾ˆniceï¼

![](https://i-blog.csdnimg.cn/blog_migrate/5fc017d54c35ced702f39e86a658da4d.jpeg)

å¤§å®¶å¦‚æœæœ‰æ›´å¥½çš„æ”¹è¿›æ–¹æ³•å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€å‘€~

## ğŸŒŸæœ¬äººYOLOv5ç³»åˆ—å¯¼èˆª 

![962f7cb1b48f44e29d9beb1d499d0530.gif](https://i-blog.csdnimg.cn/blog_migrate/ac3c5d6bfbcbf982e8e9e3632d7f20d1.gif) ğŸ€[YOLOv5æºç ][YOLOv5 1]è¯¦è§£ç³»åˆ—ï¼š

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ1ï¼‰â€”â€”é¡¹ç›®ç›®å½•ç»“æ„è§£æ][YOLOv5_1]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ2ï¼‰â€”â€”æ¨ç†éƒ¨åˆ†detect.py][YOLOv5_2_detect.py]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ3ï¼‰â€”â€”è®­ç»ƒéƒ¨åˆ†train.py][YOLOv5_3_train.py]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ4ï¼‰â€”â€”éªŒè¯éƒ¨åˆ†valï¼ˆtestï¼‰.py][YOLOv5_4_val_test_.py]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ5ï¼‰â€”â€”é…ç½®æ–‡ä»¶yolov5s.yaml][YOLOv5_5_yolov5s.yaml]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ6ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ1ï¼‰yolo.py][YOLOv5_6_1_yolo.py]

[YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ7ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ2ï¼‰common.py][YOLOv5_7_2_common.py]

![962f7cb1b48f44e29d9beb1d499d0530.gif](https://i-blog.csdnimg.cn/blog_migrate/ac3c5d6bfbcbf982e8e9e3632d7f20d1.gif) ğŸ€[YOLOv5å…¥é—¨å®è·µ][YOLOv5 1]ç³»åˆ—ï¼š

[YOLOv5å…¥é—¨å®è·µï¼ˆ1ï¼‰â€”â€”æ‰‹æŠŠæ‰‹å¸¦ä½ ç¯å¢ƒé…ç½®æ­å»º][YOLOv5_1 1]

[YOLOv5å…¥é—¨å®è·µï¼ˆ2ï¼‰â€”â€”æ‰‹æŠŠæ‰‹æ•™ä½ åˆ©ç”¨labelimgæ ‡æ³¨æ•°æ®é›†][YOLOv5_2_labelimg]

[YOLOv5å…¥é—¨å®è·µï¼ˆ3ï¼‰â€”â€”æ‰‹æŠŠæ‰‹æ•™ä½ åˆ’åˆ†è‡ªå·±çš„æ•°æ®é›†][YOLOv5_3]

[YOLOv5å…¥é—¨å®è·µï¼ˆ4ï¼‰â€”â€”æ‰‹æŠŠæ‰‹æ•™ä½ è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†][YOLOv5_4]

[YOLOv5å…¥é—¨å®è·µï¼ˆ5ï¼‰â€”â€”ä»é›¶å¼€å§‹ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ è®­ç»ƒè‡ªå·±çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼ˆåŒ…å«pyqt5ç•Œé¢ï¼‰][YOLOv5_5_pyqt5]

![](https://i-blog.csdnimg.cn/blog_migrate/6bbe1359529aa85d32810d4c62b41197.gif)


[YOLOv5_0]: https://blog.csdn.net/weixin_43334693/article/details/130564848?spm=1001.2014.3001.5501
[YOLOv5_1_SE]: https://blog.csdn.net/weixin_43334693/article/details/130551913?spm=1001.2014.3001.5501
[YOLOv5_2_CBAM]: https://blog.csdn.net/weixin_43334693/article/details/130587102?spm=1001.2014.3001.5501
[YOLOv5_3_CA]: https://blog.csdn.net/weixin_43334693/article/details/130619604?spm=1001.2014.3001.5501
[YOLOv5_4_ECA]: https://blog.csdn.net/weixin_43334693/article/details/130641318?spm=1001.2014.3001.5501
[YOLOv5_5_ MobileNetV3]: https://blog.csdn.net/weixin_43334693/article/details/130832933?spm=1001.2014.3001.5501
[YOLOv5_6_ ShuffleNetV2]: https://blog.csdn.net/weixin_43334693/article/details/131008642?spm=1001.2014.3001.5501
[YOLOv5_7_SimAM]: https://blog.csdn.net/weixin_43334693/article/details/131031541?spm=1001.2014.3001.5501
[YOLOv5_8_SOCA]: https://blog.csdn.net/weixin_43334693/article/details/131053284?spm=1001.2014.3001.5501
[YOLOv5_9_EfficientNetv2]: https://blog.csdn.net/weixin_43334693/article/details/131207097?csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22131207097%22%2C%22source%22%3A%22weixin_43334693%22%7D
[YOLOv5_10_GhostNet]: https://blog.csdn.net/weixin_43334693/article/details/131235113?spm=1001.2014.3001.5501
[YOLOv5_11_EIoU_AlphaIoU_SIoU_WIoU]: https://blog.csdn.net/weixin_43334693/article/details/131350224?spm=1001.2014.3001.5501
[YOLOv5_12_Neck_BiFPN]: https://blog.csdn.net/weixin_43334693/article/details/131461294?spm=1001.2014.3001.5501
[YOLOv5_13_SiLU_ReLU_ELU_Hardswish_Mish_Softplus_AconC]: https://blog.csdn.net/weixin_43334693/article/details/131513850?spm=1001.2014.3001.5502
[YOLOv5_14_NMS_ DIoU-NMS_CIoU-NMS_EIoU-NMS_GIoU-NMS _SIoU-NMS_Soft-NMS]: https://blog.csdn.net/weixin_43334693/article/details/131552028?spm=1001.2014.3001.5501
[YOLOv5_15]: https://blog.csdn.net/weixin_43334693/article/details/131613721?spm=1001.2014.3001.5502
[YOLOv5_16_EMA_ICASSP2023]: https://blog.csdn.net/weixin_43334693/article/details/131973273?spm=1001.2014.3001.5501
[YOLOv5_17_IoU_MPDIoU_ELSEVIER 2023_WIoU_EIoU]: https://blog.csdn.net/weixin_43334693/article/details/131999141?spm=1001.2014.3001.5501
[AFPN_]: #%F0%9F%9A%80%E4%B8%80%E3%80%81AFPN%E4%BB%8B%E7%BB%8D%C2%A0%C2%A0
[1.1]: #%E2%80%8B%E7%BC%96%E8%BE%911.1%20%E7%AE%80%E4%BB%8B
[1.2 _]: #1.2%20%E6%8F%90%E5%8F%96%E5%A4%9A%E7%BA%A7%E7%89%B9%E5%BE%81%C2%A0
[1.3]: #1.3%20%E6%B8%90%E8%BF%9B%E6%9E%B6%E6%9E%84
[1.4]: #1.4%20%E8%87%AA%E9%80%82%E5%BA%94%E7%A9%BA%E9%97%B4%E8%9E%8D%E5%90%88
[1.5]: #1.4%20%E5%AE%9E%E9%AA%8C
[AFPN_ 1]: #%F0%9F%9A%80%E4%BA%8C%E3%80%81%E6%9B%B4%E6%8D%A2AFPN%E7%9A%84%E6%96%B9%E6%B3%95%C2%A0
[common.py_AFPN]: #%E7%AC%AC%E2%91%A0%E6%AD%A5%EF%BC%9A%E5%9C%A8common.py%E4%B8%AD%E6%B7%BB%E5%8A%A0BiFPN%E6%A8%A1%E5%9D%97
[yolo.py_parse_model]: #%E7%AC%AC%E2%91%A1%E6%AD%A5%EF%BC%9A%E5%9C%A8yolo.py%E6%96%87%E4%BB%B6%E9%87%8C%E7%9A%84parse_model%E5%87%BD%E6%95%B0%E5%8A%A0%E5%85%A5%E7%B1%BB%E5%90%8D
[yaml_]: #%C2%A0%E7%AC%AC%E2%91%A2%E6%AD%A5%EF%BC%9A%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84yaml%E6%96%87%E4%BB%B6%C2%A0%C2%A0
[YOLOv5]: #%F0%9F%8C%9F%E6%9C%AC%E4%BA%BAYOLOv5%E7%B3%BB%E5%88%97%E5%AF%BC%E8%88%AA
[https_arxiv.org_abs_2306.15988v1]: https://arxiv.org/abs/2306.15988v1
[GitHub - gyyang23_AFPN]: https://github.com/gyyang23/AFPN
[YOLOv5_v7 _ AFPN _ _ _2023_6_28_-CSDN]: https://blog.csdn.net/weixin_43694096/article/details/131671240?spm=1001.2014.3001.5501
[YOLOv5 1]: https://so.csdn.net/so/search?q=YOLOv5%E6%BA%90%E7%A0%81&spm=1001.2101.3001.7020
[YOLOv5_1]: https://blog.csdn.net/weixin_43334693/article/details/129356033?spm=1001.2014.3001.5501
[YOLOv5_2_detect.py]: https://blog.csdn.net/weixin_43334693/article/details/129349094?spm=1001.2014.3001.5501
[YOLOv5_3_train.py]: https://blog.csdn.net/weixin_43334693/article/details/129460666?spm=1001.2014.3001.5501
[YOLOv5_4_val_test_.py]: https://blog.csdn.net/weixin_43334693/article/details/129649553?spm=1001.2014.3001.5501
[YOLOv5_5_yolov5s.yaml]: https://blog.csdn.net/weixin_43334693/article/details/129697521?spm=1001.2014.3001.5501
[YOLOv5_6_1_yolo.py]: https://blog.csdn.net/weixin_43334693/article/details/129803802?spm=1001.2014.3001.5501
[YOLOv5_7_2_common.py]: https://blog.csdn.net/weixin_43334693/article/details/129854764?spm=1001.2014.3001.5501
[YOLOv5_1 1]: https://blog.csdn.net/weixin_43334693/article/details/129981848?spm=1001.2014.3001.5501
[YOLOv5_2_labelimg]: https://blog.csdn.net/weixin_43334693/article/details/129995604?spm=1001.2014.3001.5501
[YOLOv5_3]: https://blog.csdn.net/weixin_43334693/article/details/130025866?spm=1001.2014.3001.5501
[YOLOv5_4]: https://blog.csdn.net/weixin_43334693/article/details/130043351?spm=1001.2014.3001.5501
[YOLOv5_5_pyqt5]: https://blog.csdn.net/weixin_43334693/article/details/130044342?spm=1001.2014.3001.5501