#### ![](https://i-blog.csdnimg.cn/blog_migrate/bfe7f1e515b26048ba27acb760d78440.gif) 

## ![](https://i-blog.csdnimg.cn/blog_migrate/15b4b8bb2e8eec5fdc7cdc2bc8f15dc3.jpeg) 

## ÂâçË®Ä 

Ëøô‰∏§Â§©ÊàëÂ∞ÜpycharmÁ§æÂå∫ÁâàÊç¢Êàê‰∫Ü‰∏ì‰∏öÁâàÔºå‰πüÈ°∫Â∏¶ÁùÄÊääÁéØÂ¢É‰ªéCPUÊîπÊàê‰∫ÜGPUÁâàÔºåÊú¨ÁØáÊñáÁ´†‰πüÂ∞±ÊòØÊàë‰∏™‰∫∫ÈÖçÁΩÆËøáÁ®ãÁöÑ‰∏Ä‰∏™ÁÆÄÂçïËÆ∞ÂΩïÔºåÂ∏åÊúõËÉΩÂ§üÂ∏ÆÂà∞Â§ßÂÆ∂Âï¶~

![](https://i-blog.csdnimg.cn/blog_migrate/5b56462435e930a94f45ebcaac033865.gif)

![](https://i-blog.csdnimg.cn/blog_migrate/ac3c5d6bfbcbf982e8e9e3632d7f20d1.gif) üçÄÊú¨‰∫∫[YOLOv5Ê∫êÁ†Å][YOLOv5]ËØ¶Ëß£Á≥ªÂàóÔºö

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà1Ôºâ‚Äî‚ÄîÈ°πÁõÆÁõÆÂΩïÁªìÊûÑËß£Êûê][YOLOv5_1]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà2Ôºâ‚Äî‚ÄîÊé®ÁêÜÈÉ®ÂàÜdetect.py][YOLOv5_2_detect.py]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà3Ôºâ‚Äî‚ÄîËÆ≠ÁªÉÈÉ®ÂàÜtrain.py][YOLOv5_3_train.py]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà4Ôºâ‚Äî‚ÄîÈ™åËØÅÈÉ®ÂàÜvalÔºàtestÔºâ.py][YOLOv5_4_val_test_.py]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà5Ôºâ‚Äî‚ÄîÈÖçÁΩÆÊñá‰ª∂yolov5s.yaml][YOLOv5_5_yolov5s.yaml]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà6Ôºâ‚Äî‚ÄîÁΩëÁªúÁªìÊûÑÔºà1Ôºâyolo.py][YOLOv5_6_1_yolo.py]

[YOLOv5Ê∫êÁ†ÅÈÄêË°åË∂ÖËØ¶ÁªÜÊ≥®Èáä‰∏éËß£ËØªÔºà7Ôºâ‚Äî‚ÄîÁΩëÁªúÁªìÊûÑÔºà2Ôºâcommon.py][YOLOv5_7_2_common.py]

## ÁõÆÂΩï 

[ÂâçË®Ä][Link 1]

[‰∏Ä„ÄÅ‰∫ÜËß£ÊâÄÈúÄÈÖçÁΩÆ][Link 2]

[1.1 CUDA][]

[1.2 cuDNN][]

[1.3 Anconda][]

[1.4 pycharm][]

[1.5 pytorch][]

[‰∫å„ÄÅÂÆâË£ÖCUDA ÂíåcuDNN][CUDA _cuDNN]

[2.1 CUDAÁöÑ‰∏ãËΩΩ‰∏éÂÆâË£Ö][2.1 CUDA]

[2.2 cuDNNÁöÑ‰∏ãËΩΩ‰∏éÂÆâË£Ö][2.2 cuDNN]

[‰∏â„ÄÅÂÆâË£ÖAnaconda ][Anaconda]

[Âõõ„ÄÅÂÆâË£Öpytorch ][pytorch]

[‰∫î„ÄÅÈÖçÁΩÆYOLOv5ÁéØÂ¢É][YOLOv5 1]

[ÂÖ≠„ÄÅÊµãËØï][Link 3]

![](https://i-blog.csdnimg.cn/blog_migrate/d81340937af65638e899750006ba4c41.gif)

## ‰∏Ä„ÄÅ‰∫ÜËß£ÊâÄÈúÄÈÖçÁΩÆ 

### 1.1 CUDA 

2006Âπ¥ÔºåNVIDIAÂÖ¨Âè∏ÂèëÂ∏É‰∫ÜCUDA(Compute Unified Device Architecture)ÔºåÊòØ‰∏ÄÁßçÊñ∞ÁöÑÊìç‰ΩúGPUËÆ°ÁÆóÁöÑÁ°¨‰ª∂ÂíåËΩØ‰ª∂Êû∂ÊûÑÔºåÊòØÂª∫Á´ãÂú®NVIDIAÁöÑGPUs‰∏äÁöÑ‰∏Ä‰∏™ÈÄöÁî®Âπ∂Ë°åËÆ°ÁÆóÂπ≥Âè∞ÂíåÁºñÁ®ãÊ®°ÂûãÔºåÂÆÉÊèê‰æõ‰∫ÜGPUÁºñÁ®ãÁöÑÁÆÄÊòìÊé•Âè£ÔºåÂü∫‰∫éCUDAÁºñÁ®ãÂèØ‰ª•ÊûÑÂª∫Âü∫‰∫éGPUËÆ°ÁÆóÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂà©Áî®GPUsÁöÑÂπ∂Ë°åËÆ°ÁÆóÂºïÊìéÊù•Êõ¥Âä†È´òÊïàÂú∞Ëß£ÂÜ≥ÊØîËæÉÂ§çÊùÇÁöÑËÆ°ÁÆóÈöæÈ¢ò„ÄÇÂÆÉÂ∞ÜGPUËßÜ‰Ωú‰∏Ä‰∏™Êï∞ÊçÆÂπ∂Ë°åËÆ°ÁÆóËÆæÂ§áÔºåËÄå‰∏îÊó†ÈúÄÊääËøô‰∫õËÆ°ÁÆóÊò†Â∞ÑÂà∞ÂõæÂΩ¢API„ÄÇÊìç‰ΩúÁ≥ªÁªüÁöÑÂ§ö‰ªªÂä°Êú∫Âà∂ÂèØ‰ª•ÂêåÊó∂ÁÆ°ÁêÜCUDAËÆøÈóÆGPUÂíåÂõæÂΩ¢Á®ãÂ∫èÁöÑËøêË°åÂ∫ìÔºåÂÖ∂ËÆ°ÁÆóÁâπÊÄßÊîØÊåÅÂà©Áî®CUDAÁõ¥ËßÇÂú∞ÁºñÂÜôGPUÊ†∏ÂøÉÁ®ãÂ∫è„ÄÇ

### 1.2 cuDNN 

cuDNNÊòØNVIDIACUDA¬ÆÊ∑±Â∫¶Á•ûÁªèÁΩëÁªúÂ∫ìÔºåÊòØGPUÂä†ÈÄüÁöÑÁî®‰∫éÊ∑±Â∫¶Á•ûÁªèÁΩëÁªúÁöÑÂéüËØ≠Â∫ì„ÄÇcuDNN‰∏∫Ê†áÂáÜ‰æãÁ®ãÊèê‰æõ‰∫ÜÈ´òÂ∫¶‰ºòÂåñÁöÑÂÆûÁé∞Ôºå‰æãÂ¶ÇÂêëÂâçÂíåÂêëÂêéÂç∑ÁßØÔºåÊ±†ÂåñÔºåËßÑËåÉÂåñÂíåÊøÄÊ¥ªÂ±Ç„ÄÇ  
ÂÖ®ÁêÉÁöÑÊ∑±Â∫¶Â≠¶‰π†Á†îÁ©∂‰∫∫ÂëòÂíåÊ°ÜÊû∂ÂºÄÂèë‰∫∫ÂëòÈÉΩ‰æùËµñcuDNNÊù•ÂÆûÁé∞È´òÊÄßËÉΩGPUÂä†ÈÄü„ÄÇÂÆÉ‰Ωø‰ªñ‰ª¨ÂèØ‰ª•‰∏ìÊ≥®‰∫éËÆ≠ÁªÉÁ•ûÁªèÁΩëÁªúÂíåÂºÄÂèëËΩØ‰ª∂Â∫îÁî®Á®ãÂ∫èÔºåËÄå‰∏çÂøÖËä±Êó∂Èó¥Âú®Â∫ïÂ±ÇGPUÊÄßËÉΩË∞ÉÊï¥‰∏ä„ÄÇcuDNNÁöÑÂä†Âø´ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊ∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂ÔºåÂåÖÊã¨Caffe2ÔºåChainerÔºåKerasÔºåMATLABÔºåMxNetÔºåPyTorchÂíåTensorFlow„ÄÇÂ∑≤Â∞ÜcuDNNÈõÜÊàêÂà∞Ê°ÜÊû∂‰∏≠ÁöÑNVIDIA‰ºòÂåñÊ∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂ÂÆπÂô®ÔºåËÆøÈóÆNVIDIA GPU CLOUD‰∫ÜËß£Êõ¥Â§ö‰ø°ÊÅØÂπ∂ÂºÄÂßã‰ΩøÁî®„ÄÇ

### 1.3 Anconda 

AnacondaÊåáÁöÑÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑPythonÂèëË°åÁâàÊú¨ÔºåÂÖ∂ÂåÖÂê´‰∫Üconda„ÄÅPythonÁ≠â180Â§ö‰∏™ÁßëÂ≠¶ÂåÖÂèäÂÖ∂‰æùËµñÈ°π„ÄÇ Âõ†‰∏∫ÂåÖÂê´‰∫ÜÂ§ßÈáèÁöÑÁßëÂ≠¶ÂåÖÔºåAnaconda ÁöÑ‰∏ãËΩΩÊñá‰ª∂ÊØîËæÉÂ§ßÔºàÁ∫¶ 531 MBÔºâÔºåÂ¶ÇÊûúÂè™ÈúÄË¶ÅÊüê‰∫õÂåÖÔºåÊàñËÄÖÈúÄË¶ÅËäÇÁúÅÂ∏¶ÂÆΩÊàñÂ≠òÂÇ®Á©∫Èó¥Ôºå‰πüÂèØ‰ª•‰ΩøÁî®MinicondaËøô‰∏™ËæÉÂ∞èÁöÑÂèëË°åÁâàÔºà‰ªÖÂåÖÂê´condaÂíå PythonÔºâ„ÄÇ  
AnacondaÂåÖÊã¨Conda„ÄÅPython‰ª•Âèä‰∏ÄÂ§ßÂ†ÜÂÆâË£ÖÂ•ΩÁöÑÂ∑•ÂÖ∑ÂåÖÔºåÊØîÂ¶ÇÔºönumpy„ÄÅpandasÁ≠â

### 1.4 pycharm 

pycharmÊòØ‰∏Ä‰∏™Áî®‰∫éËÆ°ÁÆóÊú∫ÁºñÁ®ãÁöÑÈõÜÊàêÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ªË¶ÅÁî®‰∫épythonËØ≠Ë®ÄÂºÄÂèëÔºåÂπ∂ÊîØÊåÅ‰ΩøÁî®DjangoËøõË°åÁΩëÈ°µÂºÄÂèë„ÄÇÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØ‰∫∫Â∑•Êô∫ËÉΩÁöÑ‰æøÊç∑ËØ≠Ë®Ä„ÄÇ

### 1.5 pytorch 

[PyTorch][]ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑPythonÊú∫Âô®Â≠¶‰π†Â∫ìÔºåÂÖ∂ÂâçË∫´ÊòØ2002Âπ¥ËØûÁîü‰∫éÁ∫ΩÁ∫¶Â§ßÂ≠¶ ÁöÑTorch„ÄÇÂÆÉÊòØÁæéÂõΩFacebookÂÖ¨Âè∏‰ΩøÁî®pythonËØ≠Ë®ÄÂºÄÂèëÁöÑ‰∏Ä‰∏™Ê∑±Â∫¶Â≠¶‰π†ÁöÑÊ°ÜÊû∂Ôºå2017Âπ¥1ÊúàÔºåFacebook‰∫∫Â∑•Êô∫ËÉΩÁ†îÁ©∂Èô¢ÔºàFAIRÔºâÂú®GitHub‰∏äÂºÄÊ∫ê‰∫ÜPyTorch„ÄÇ

ÊÉ≥Ëøõ‰∏ÄÊ≠•Â≠¶‰π†pytorchÁöÑÂèãÂèãÔºåÊ¨¢ËøéÂÖ≥Ê≥®ÊàëÁöÑ‰∏ìÊ†èÂô¢ÔºÅ‚Üí[Pytorch\_Ë∑Ø‰∫∫Ë¥æ'œâ'ÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢][Pytorch_-CSDN]

## ‰∫å„ÄÅÂÆâË£ÖCUDA ÂíåcuDNN 

ÂÆòÊñπÊïôÁ®ã

CUDAÔºö[https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html][https_docs.nvidia.com_cuda_cuda-installation-guide-microsoft-windows_index.html]

cuDNNÔºö[Installation Guide :: NVIDIA Deep Learning cuDNN Documentation][Installation Guide _ NVIDIA Deep Learning cuDNN Documentation]

### 2.1 CUDAÁöÑ‰∏ãËΩΩ‰∏éÂÆâË£Ö 

1.È¶ñÂÖàÊü•ÁúãËá™Â∑±CUDAÁöÑÁâàÊú¨ÔºåÊúâ‰ª•‰∏ã‰∏§ÁßçÊñπÊ≥ïÔºö

Ôºà1ÔºâÊâìÂºÄ[nvidia][]ÔºàÊ°åÈù¢Âè≥ÈîÆÔºâ->ÈÄâÊã©Â∑¶‰∏ãËßíÁöÑÁ≥ªÁªü‰ø°ÊÅØ->ÁªÑ‰ª∂

![](https://i-blog.csdnimg.cn/blog_migrate/1050bf13749fd5bf92b0d8ae377ed09e.png)

![](https://i-blog.csdnimg.cn/blog_migrate/6137d9488ab9ad0d198d49da574da6cb.png)

Ôºà2ÔºâÁõ¥Êé•Âú®cmd‰∏≠ËæìÂÖ•

```java
nvidia-smi
```

ËøôÈáåÂ∞±ÂèØ‰ª•Áõ¥Êé•Êü•ÁúãÂï¶

![](https://i-blog.csdnimg.cn/blog_migrate/2a302a9b381caf9594d7557c1f995e73.png)

 2.ÁÑ∂ÂêéÂºÄÂßãËøõÂÖ•ÂÆòÁΩë‰∏ãËΩΩÂØπÂ∫îÁâàÊú¨Ôºå‰∏ãËΩΩÂú∞ÂùÄ‚Üí [ÂÆòÊñπÈ©±Âä® | NVIDIA][_ NVIDIA]

![](https://i-blog.csdnimg.cn/blog_migrate/7391e8972d3abf9d961ed359e4dc81b0.png)

Ê†πÊçÆËá™Â∑±Êü•Âà∞ÁöÑÁâàÊú¨‰∏ãËΩΩÂØπÂ∫îÊó¢ÂèØ„ÄÇ

ÁÑ∂ÂêéÂ∞±ÊòØÊº´ÈïøÁöÑÁ≠âÂæÖing

![](https://i-blog.csdnimg.cn/blog_migrate/227fbbcc762cefc742d474cdbaf071f1.png)

 3.‰∏ãËΩΩÂÆå‰∫ÜÂ∞±ÂºÄÂßãÂÆâË£Ö

![](https://i-blog.csdnimg.cn/blog_migrate/10d1695bc7761dd1c046996300160f30.png)

ÁÇπÂáª‰∏ã‰∏ÄÊ≠•

![](https://i-blog.csdnimg.cn/blog_migrate/3eaaf03b0c2ef064907ca2a4807adffe.png)

Ëøô‰∏§‰∏™ÂèØ‰ª•‰∏çÁî®ÂãæÈÄâ

![](https://i-blog.csdnimg.cn/blog_migrate/bc411ea9d6e69885fb6070dd04ef359e.png)

4.Êü•ÁúãÁéØÂ¢ÉÂèòÈáè

ÁÇπÂáªÂºÄÂßã-->ÊêúÁ¥¢È´òÁ∫ßÁ≥ªÁªüËÆæÁΩÆ-->Êü•ÁúãÁéØÂ¢ÉÂèòÈáè

„ÄêÂ¶ÇÊûúÊ≤°ÊúâÈúÄË¶ÅËá™Â∑±Ê∑ªÂä†„Äë

![](https://i-blog.csdnimg.cn/blog_migrate/5a1e473d8503ef5c6f2a4def97ddd410.png)

![](https://i-blog.csdnimg.cn/blog_migrate/8cdcd56a22d97016a624bd4b9845402d.png)

![](https://i-blog.csdnimg.cn/blog_migrate/ebd25025e1c5e75841d52313ec2807df.png)

‰∏ÄÂÖ±Âõõ‰∏™Á≥ªÁªüÂèòÈáèÔºåÈÉΩÊòØËá™Âä®ÁîüÊàêÁöÑÔºå‰ΩÜÊòØÊúâÊó∂Âêé‰∏§‰∏™Á≥ªÁªüÂèòÈáèÂèØËÉΩ‰∏ç‰ºöËá™Âä®ÁîüÊàêÔºåÈúÄË¶ÅËá™Â∑±Ê∑ªÂä†‰∏äÂéªÔºåÊ∑ªÂä†Êó∂Ê≥®ÊÑèË∑ØÂæÑ„ÄÇ

5.È™åËØÅCUDAÊòØÂê¶ÂÆâË£ÖÊàêÂäü

win+rÔºåËøêË°åcmdÔºåËæìÂÖ•

```java
nvcc --version 
OR
nvcc -V
```

Âç≥ÂèØÊü•ÁúãÁâàÊú¨Âè∑

![](https://i-blog.csdnimg.cn/blog_migrate/0291e43c0565e0af249689535014e343.png) ËæìÂÖ•

```java
set cuda
```

Âç≥ÂèØÊü•Áúã CUDA ËÆæÁΩÆÁöÑÁéØÂ¢ÉÂèòÈáè ![](https://i-blog.csdnimg.cn/blog_migrate/423decdb23349405bcb4d0ef6974884d.png)

Ëá≥Ê≠§ÔºåCUDA Â∞±Â∑≤ÂÆâË£ÖÂÆåÊàê„ÄÇ‰ΩÜÊòØÂú®ÂÆåÊàêÂº†ÈáèÂä†ÈÄüËøêÁÆóÊó∂ËøòÈúÄË¶ÅcuDNNÁöÑËæÖÂä©ÔºåÊâÄ‰ª•Êé•‰∏ãÊù•Êàë‰ª¨Êù•ÂÆâË£ÖcuDNN„ÄÇ

### 2.2 cuDNNÁöÑ‰∏ãËΩΩ‰∏éÂÆâË£Ö 

1.Êü•Áúã‰∏éCUDAÂØπÂ∫îÁöÑcuDNNÁâàÊú¨

![](https://i-blog.csdnimg.cn/blog_migrate/a10b8951b983e4a84b31bbd8c1f4f120.png)

2.Âú®ÂÆòÁΩë‰∏ä‰∏ãËΩΩ„ÄÇÂÆòÁΩëÂú∞ÂùÄ‚Üí[cuDNN Download | NVIDIA Developer][cuDNN Download _ NVIDIA Developer]

ÁÇπÂáªÊ≥®ÂÜå

![](https://i-blog.csdnimg.cn/blog_migrate/236ca406c3b02a24d87f1001bf8f43f4.png) Ê≥®ÂÜåÊàêÂäü

![](https://i-blog.csdnimg.cn/blog_migrate/05a5bbf376b9e27314c3cc9265e2c4b3.png)

3.ÂºÄÂßã‰∏ãËΩΩ

![](https://i-blog.csdnimg.cn/blog_migrate/4e39c25d1ede2be673ec8ae17c94c8b3.png)

 4.Ëß£ÂéãÊñá‰ª∂

![](https://i-blog.csdnimg.cn/blog_migrate/92abb7622d4486cb48e1d5b95f624df0.png)

Êàë‰ª¨‰∏ãËΩΩÂêéÂèëÁé∞ÂÖ∂ÂÆûcudnn‰∏çÊòØ‰∏Ä‰∏™exeÊñá‰ª∂ÔºåËÄåÊòØ‰∏Ä‰∏™ÂéãÁº©ÂåÖÔºåËß£ÂéãÂêéÔºåÊúâ‰∏â‰∏™Êñá‰ª∂Â§πÔºåÊää‰∏â‰∏™Êñá‰ª∂Â§πÊã∑Ë¥ùÂà∞cudaÁöÑÂÆâË£ÖÁõÆÂΩï‰∏ã„ÄÇ

![](https://i-blog.csdnimg.cn/blog_migrate/3477cd89aa0baa116814958758e92014.png) cuDNN ÂÖ∂ÂÆûÊòØ CUDA ÁöÑ‰∏Ä‰∏™Ë°•‰∏ÅÔºå‰∏ì‰∏∫Ê∑±Â∫¶Â≠¶‰π†ËøêÁÆóËøõË°å‰ºòÂåñÁöÑ„ÄÇÁÑ∂ÂêéÂÜçÊ∑ªÂä†ÁéØÂ¢ÉÂèòÈáè

5.Ê∑ªÂä†Ëá≥Á≥ªÁªüÂèòÈáè

ÂæÄÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáè‰∏≠ÁöÑ path Ê∑ªÂä†Â¶Ç‰∏ãË∑ØÂæÑÔºàÊ†πÊçÆËá™Â∑±ÁöÑË∑ØÂæÑËøõË°å‰øÆÊîπÔºâ ![](https://i-blog.csdnimg.cn/blog_migrate/b8cbfa5985e371cb08ceaf0e032c51f0.png)

7.È™åËØÅcuDNNÊòØÂê¶ÂÆâË£ÖÊàêÂäü

win+rÔºåÂêØÂä®cmdÔºåcdÂà∞ÂÆâË£ÖÁõÆÂΩï‰∏ãÁöÑ.\\extras\\demo\_suiteÔºåËæìÂÖ•

```java
ÂéüÁõÆÂΩï.\extras\demo_suite
```

ÁÑ∂ÂêéÂàÜÂà´ËæìÂÖ•.\\bandwidthTest.exeÂíå.\\deviceQuery.exeÔºàËøõÂà∞ÁõÆÂΩïÂêéÈúÄË¶ÅÁõ¥Êé•Ëæì‚ÄúbandwidthTest.exe‚ÄùÂíå‚ÄúdeviceQuery.exe‚ÄùÔºâ

```java
.\bandwidthTest.exe
```

```java
.\deviceQuery.exe
```

ÂæóÂà∞‰∏ãÂõæÔºö

![](https://i-blog.csdnimg.cn/blog_migrate/8d80eb272d636c7a83b27cbc1b191718.png)

![](https://i-blog.csdnimg.cn/blog_migrate/01719853b63a55b09a1e15acd93a381d.png)

Ëá≥Ê≠§ÔºåCUDAÂíåcuDNNÂ∑≤ÂÖ®ÈÉ®ÂÆâË£ÖÂÆåÊØï~

## ‰∏â„ÄÅÂÆâË£ÖAnaconda  

Âõ†‰∏∫ÊàëÁöÑÁîµËÑëÂ∑≤ÁªèÊúâ‰∫ÜAnaconda ÔºåÊâÄ‰ª•Ê≤°ÊúâÂÜçÂÆâË£Ö„ÄÇÊ≤°ÊúâÂÆâË£ÖÁöÑÂèØ‰ª•ÁúãÁúãËøô‰∏™ÊïôÁ®ãÔºö

[ÊúÄÊñ∞Anaconda3ÁöÑÂÆâË£ÖÈÖçÁΩÆÂèä‰ΩøÁî®ÊïôÁ®ãÔºàËØ¶ÁªÜËøáÁ®ãÔºâ\_HowieXueÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢][Anaconda3_HowieXue_-CSDN]

## Âõõ„ÄÅÂÆâË£Öpytorch 

ÂêåÊ†∑ÔºåpytorchÊàëÁîµËÑë‰∏ä‰πüÂÆâË£ÖËøá‰∫ÜÔºà‰∏çÁÑ∂ÂíãÂá∫ÁöÑ‰∏ìÊ†èÂë¢ÔºàÊâãÂä®ÁãóÂ§¥ÔºâÔºâ„ÄÇÊ≤°ÊúâÂÆâË£ÖÁöÑÊé®ËçêÂ§ßÂÆ∂ÁúãÊàëÂêåÈó®ÁöÑËøôÁØáÊñáÁ´†ÔºåÊ≠•È™§ÈùûÂ∏∏ËØ¶ÁªÜÔºö[Win11‰∏äPytorchÁöÑÂÆâË£ÖÂπ∂Âú®Pycharm‰∏äË∞ÉÁî®PyTorchÊúÄÊñ∞Ë∂ÖËØ¶ÁªÜ\_win11ÂÆâË£Öpytorch][Win11_Pytorch_Pycharm_PyTorch_win11_pytorch]

## ‰∫î„ÄÅÈÖçÁΩÆYOLOv5ÁéØÂ¢É 

1.yolov5ÁöÑÊ∫êÁ†Å‰∏ãËΩΩ

‰∏ãËΩΩÂú∞ÂùÄÔºö[mirrors / ultralytics / yolov5 ¬∑ GitCode][mirrors _ ultralytics _ yolov5 _ GitCode]

ÊñπÊ≥ï‰∏ÄÔºögit cloneÂà∞Êú¨Âú∞Êú¨Âú∞‰ªìÂ∫ì  
\[Êåá‰ª§\]Ôºö`git clone https://github.com/ultralytics/yolov5`

ÊñπÊ≥ï‰∫åÔºöÁõ¥Êé•ÂÆâË£ÖÂéãÁº©ÂåÖ  
Ê≤°ÊúâÂÆâË£Ö git ÁöÑËØùÔºåÂèØ‰ª•Áõ¥Êé•ÁÇπÂáª‚ÄúÂÖãÈöÜ‚Äù‰∏ãËΩΩÂéãÁº©ÂåÖ

![](https://i-blog.csdnimg.cn/blog_migrate/033151eef87908a715e79f1af32653e7.png)

2.È¢ÑËÆ≠ÁªÉÊ®°Âûã‰∏ãËΩΩ

‰∏∫‰∫ÜÁº©Áü≠ÁΩëÁªúÁöÑËÆ≠ÁªÉÊó∂Èó¥ÔºåÂπ∂ËææÂà∞Êõ¥Â•ΩÁöÑÁ≤æÂ∫¶ÔºåÊàë‰ª¨‰∏ÄËà¨Âä†ËΩΩÈ¢ÑËÆ≠ÁªÉÊùÉÈáçËøõË°åÁΩëÁªúÁöÑËÆ≠ÁªÉ„ÄÇ  
YOLOv5ÁªôÊàë‰ª¨Êèê‰æõ‰∫ÜÂá†‰∏™È¢ÑËÆ≠ÁªÉÊùÉÈáçÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπÂ∫îÊàë‰ª¨‰∏çÂêåÁöÑÈúÄÊ±ÇÈÄâÊã©‰∏çÂêåÁöÑÁâàÊú¨ÁöÑÈ¢ÑËÆ≠ÁªÉÊùÉÈáç„ÄÇÂú®ÂÆûÈôÖÂú∫ÊôØ‰∏≠ÊòØÊØîËæÉÁúãËøôÁßçÈÄüÂ∫¶ÔºåÊâÄ‰ª•YOLOv5sÊòØÊØîËæÉÂ∏∏Áî®ÁöÑ„ÄÇ

Â∞ÜÂÆâË£ÖÂ•ΩÁöÑÈ¢ÑËÆ≠ÁªÉÊ®°ÂûãÊîæÂú®YOLOÊñá‰ª∂‰∏ã„ÄÇ

![](https://i-blog.csdnimg.cn/blog_migrate/791c24451592df13bc612a9ef7a583a1.png)

  
3.ÂÆâË£Öyolov5ÁöÑ‰æùËµñÈ°π 

È¶ñÂÖàÂàõÂª∫ËôöÊãüÁéØÂ¢ÉÂπ∂ÊøÄÊ¥ª„ÄÇcondaÂ∏∏Áî®Êåá‰ª§Â¶Ç‰∏ãÔºö

 *  ÂàõÂª∫ËôöÊãüÁéØÂ¢ÉÔºö
    
    ```java
    conda create -n [ËôöÊãüÁéØÂ¢ÉÂêç] python=[ÁâàÊú¨]
    ```

![](https://i-blog.csdnimg.cn/blog_migrate/a6fb898a61e7d2131468db48c8adf32c.png) ÁÇπ‚Äúy‚Äù

![](https://i-blog.csdnimg.cn/blog_migrate/81c2bff566b033af49175a8adfe9d8dd.png)

 *  ÊòæÁ§∫ËôöÊãüÁéØÂ¢ÉÔºö

```java
conda env list
```

![](https://i-blog.csdnimg.cn/blog_migrate/dce403a0cc19fdb9069d314a218db6f6.png)

 *  ÊøÄÊ¥ªËôöÊãüÁéØÂ¢ÉÔºö

```java
conda activate + [ËôöÊãüÁéØÂ¢ÉÂêç]
```

![](https://i-blog.csdnimg.cn/blog_migrate/e4bab170a72242c64b6a5950e4338277.png)

4.ÂÆâË£Öpytorch-gupÁâàÁöÑÁéØÂ¢É

Áî±‰∫épytorchÁöÑÂÆòÁΩëÂú®ÂõΩÂ§ñÔºå‰∏ãËΩΩÁõ∏ÂÖ≥ÁöÑÁéØÂ¢ÉÂåÖÊòØÊØîËæÉÊÖ¢ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÁªôÁéØÂ¢ÉÊç¢Ê∫ê„ÄÇÂú®pytorchÁéØÂ¢É‰∏ãÊâßË°åÂ¶Ç‰∏ãÁöÑÂëΩÂêçÁªôÁéØÂ¢ÉÊç¢Ê∏ÖÂçéÊ∫ê„ÄÇ

```java
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --set show_channel_urls yes
```

ËøôÈáåË¶ÅÊ≥®ÊÑèÁΩëÈÄü‰∏ÄÂÆöË¶ÅÂ•ΩÔºå‰∏çÁÑ∂Â∞±ÊÄªÊä•Èîô„ÄÇ‰∏ãÂõæÂ∞±ÊòØÊú¨‰∫∫Ë°ÄÊ≥™Âè≤„ÄÇ

![](https://i-blog.csdnimg.cn/blog_migrate/8ece52d56c885f75440e262174c17c6b.png)

ÁÑ∂ÂêéÂ∞±ÂÆâË£ÖÂÆåÂï¶

![](https://i-blog.csdnimg.cn/blog_migrate/613ad6d2b2055cf7986a89e00ce05cc0.png)

ÊâìÂºÄÊàë‰ª¨‰∏ãËΩΩÂ•ΩÁöÑÊ∫êÁ†ÅÔºåÁÇπÂáªËÆæÁΩÆsetting

![](https://i-blog.csdnimg.cn/blog_migrate/bd03b17bd7697b11d962c5c131a142e3.png)

Êåâ‰ª•‰∏ãÊ≠•È™§Â∞±OKÂï¶ÔºÅ

![](https://i-blog.csdnimg.cn/blog_migrate/f9d2f6877f859a0b97411aa31f922cf2.png)

## ÂÖ≠„ÄÅÊµãËØï 

1.Êàë‰ª¨ÂÖàËøêË°ådetect.py

![](https://i-blog.csdnimg.cn/blog_migrate/95cc88080f109bb83c1b1eca953556c7.png)

ËøôÊó∂‰ºöÂèëÁé∞Âá∫Áé∞ÈîôËØØÔºö

AttributeError: 'Upsample' object has no attribute 'recompute scale\_factor'

![](https://i-blog.csdnimg.cn/blog_migrate/61d94d1a5388d9b6a3e8e658c8237498.png)

Ëß£ÂÜ≥ÊñπÊ≥ïÔºö

ÁÇπËøõËìùËâ≤ÁöÑÊñá‰ª∂Èáå‰∏ãÂõæÂØπÂ∫î‰ΩçÁΩÆÔºåÊõ¥ÊîπforwardÂáΩÊï∞ÔºåÂ§çÂà∂‰∏ÄÈÅçÔºåÂéªÊéâ‰∏ãÈù¢‰∏ÄË°åÁöÑ‰ª£Á†Å

![](https://i-blog.csdnimg.cn/blog_migrate/0a04300872f35b0567505a1219dfee1d.jpeg)

ÂÜçÁÇπÂáªrunÔºåÁªìÊûúÂ∞±‰øùÂ≠òÂú®runsÁöÑdetectÊñá‰ª∂‰∏ã‰∫Ü

![](https://i-blog.csdnimg.cn/blog_migrate/11bede5aebac87ce44abf891f681a75d.png) ![](https://i-blog.csdnimg.cn/blog_migrate/87f5aa940bb9c3ebef15f68754462280.png)

2.Êàë‰ª¨ÂÜçËøêË°åtrain.py

![](https://i-blog.csdnimg.cn/blog_migrate/fa3626520e61f3a7a4ff1843d637b934.png)

ÂêåÊ†∑‰ºöÂèëÁîüÊä•Èîô

0SError: \[winError 1455\]È°µÈù¢Êñá‰ª∂Â§™Â∞èÔºåÊó†Ê≥ïÂÆåÊàêÊìç‰Ωú„ÄÇError loading"D:\\Anaconda3\\envslyolov5-6.1lib\\site-packages torch\\lib\\cudidTT"one of its dependencies

![](https://i-blog.csdnimg.cn/blog_migrate/6289f3be1e8471ff97666c084a6354b6.png)

ËøôÂ∞±ÊòØÂõ†‰∏∫Êàë‰ª¨batchsizeÂíåworkersËÆæÁΩÆÂ§™Â§ß‰∫ÜÁöÑÂéüÂõ†

Ëß£ÂÜ≥ÊñπÊ≥ïÔºö

ÊâæÂà∞train.pyÁöÑparse\_optÔºàÔºâÂáΩÊï∞ÔºåÂ∞ÜÂØπÂ∫îbatchsizeÂíåworkersÂèÇÊï∞Ë∞ÉÂ∞èÔºåÂ¶Ç‰∏ãÂõæÔºö

![](https://i-blog.csdnimg.cn/blog_migrate/7b9ec8004125d392ccd1522d7d338353.png)

Ôºà‰Ω†‰ª•‰∏∫ËøôÊ†∑Â∞±ÂÆå‰∫ÜÂêóÔºüNoÔºÅ555~Ôºâ

Êé•ÁùÄÂèà‰ºöÂá∫Áé∞‰∏ãÈù¢ÁöÑÈîôËØØÔºö

OMP: Hint This means that multiple copies of the OpenMp runtime have been linked into theThat is dangerous, since it can degrade performance or cause incorrect results.. 

![](https://i-blog.csdnimg.cn/blog_migrate/41da2742f6aa246fb1c8b226cb346fb8.png)

 Ëß£ÂÜ≥ÊñπÊ≥ïÔºö

Âú®import os‰∏ãÈù¢Âä†ÂÖ•

```java
os.environ['KMP_DUPLICATE_LIB_OK']='TRUE'
```

![](https://i-blog.csdnimg.cn/blog_migrate/1d0bd9971fd60a0ae91fea856595c195.png)

ÔºàËøô‰∏ãÊ≤°Èîô‰∫ÜÂêßÔºü‰Ω†ÊÉ≥Â§ö‰∫Ü~Ôºâ

ÁÑ∂ÂêéÂèà‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÈîôËØØÔºö

RuntimeError: resutt type float can't be cast to the desired output type .\_int64 ![](https://i-blog.csdnimg.cn/blog_migrate/2d8a54b2ac89f340b07ebf0f5a760304.png)

 Ëß£ÂÜ≥ÊñπÊ≥ïÔºö

È¶ñÂÖàËøõÂÖ•loss.pyÊñá‰ª∂ÔºåÂ∞Üanchors = self.anchors\[i\]Êîπ‰∏∫

```java
anchors, shape = self.anchors[i], p[i].shape
```

![](https://i-blog.csdnimg.cn/blog_migrate/2e4cb99d798e42fc64c49db60da4f14b.png)

‚Üì ![](https://i-blog.csdnimg.cn/blog_migrate/8cfff1017d638d783162cb423e6d2964.png)

Êé•ÁùÄÂæÄ‰∏ãÁøªÔºåÂ∞Üindices.append((b, a, gj.clamp\_(o, gain\[3\] - 1), gi.clamp\_(0, gain\[2\] - 1))Êîπ‰∏∫

```java
indices.append((b, a, gj.clamp_(0, shape[2] - 1), gi.clamp_(0, shape[3] - 1)))
```

![](https://i-blog.csdnimg.cn/blog_migrate/f74bbc31371e0bb5df17242e57f2fc42.png)

‚Üì ![](https://i-blog.csdnimg.cn/blog_migrate/16c2b159ccceedf2a43c87419b731909.png)

Âà∞ËøôÁªà‰∫éËÉΩËøêË°åÂï¶ÔºÅÊííËä±‚úø‚úø„ÉΩ(¬∞‚ñΩ¬∞)„Éé‚úø

![](https://i-blog.csdnimg.cn/blog_migrate/4e67b2f8c1ac95ce2cf8503eac928ec6.png)

ÔºàËÆ≠ÁªÉÊó∂ÈîôËØØÊú¨Êù•Â∞±ÊúâÂæàÂ§öÔºå‰ΩÜÊòØÈîôËØØÂéüÂõ†ÁΩë‰∏äÈÉΩËÉΩÊâæÂà∞ÁöÑÂì¶~Ôºâ

Âà∞Ê≠§‰∏∫Ê≠¢ÔºåÊàë‰ª¨ÁöÑÁéØÂ¢ÉÂ∞±ÈÖçÂ•Ω‰∫Ü„ÄÇ

Êú¨ÁØáÊñáÁ´†ÊòØÊàëÈÄöËøáÂΩïÂ±èÂ§çÁõòÊÄªÁªìÁöÑÔºåÂèØËÉΩÊúâ‰∏Ä‰∫õÂú∞ÊñπÊúâÈÅóÂøòÔºåÂ§ßÂÆ∂Ë¶ÅÊòØÈÖçÁΩÆËøáÁ®ã‰∏≠ÊúâÈóÆÈ¢òËøòÊòØË¶ÅÁúãÁúãÂ§ß‰Ω¨‰ª¨ÁöÑÊïôÁ®ãÔºàÊÑüË∞¢Â§ß‰Ω¨‰ª¨ÔºÅÔºâ Â•Ω‰∫ÜÔºåÊàëËøô‰∏™Â∞èÁôΩÂÖàÊí§‰∫Ü~‰∏ã‰∏ÄÁØáÂÜçËßÅÂï¶ÔºÅ

> Êú¨ÊñáÂèÇËÄÉÔºö
> 
> [CUDA‰∏écuDNNÂÆâË£ÖÊïôÁ®ãÔºàË∂ÖËØ¶ÁªÜÔºâ\_kylinminÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢][CUDA_cuDNN_kylinmin_-CSDN]
> 
> [„ÄêÈõ∂Âü∫Á°Ä‰∏äÊâãyolov5„Äëyolov5ÁöÑÂÆâË£Ö‰∏éÁõ∏ÂÖ≥ÁéØÂ¢ÉÁöÑÊê≠Âª∫\_ÁΩÖÈöô\`ÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢][yolov5_yolov5_-CSDN]

![](https://i-blog.csdnimg.cn/blog_migrate/406afbeed8f29124a4316812360581bd.gif)


[YOLOv5]: https://so.csdn.net/so/search?q=YOLOv5%E6%BA%90%E7%A0%81&spm=1001.2101.3001.7020
[YOLOv5_1]: https://blog.csdn.net/weixin_43334693/article/details/129356033?spm=1001.2014.3001.5501
[YOLOv5_2_detect.py]: https://blog.csdn.net/weixin_43334693/article/details/129349094?spm=1001.2014.3001.5501
[YOLOv5_3_train.py]: https://blog.csdn.net/weixin_43334693/article/details/129460666?spm=1001.2014.3001.5501
[YOLOv5_4_val_test_.py]: https://blog.csdn.net/weixin_43334693/article/details/129649553?spm=1001.2014.3001.5501
[YOLOv5_5_yolov5s.yaml]: https://blog.csdn.net/weixin_43334693/article/details/129697521?spm=1001.2014.3001.5501
[YOLOv5_6_1_yolo.py]: https://blog.csdn.net/weixin_43334693/article/details/129803802?spm=1001.2014.3001.5501
[YOLOv5_7_2_common.py]: https://blog.csdn.net/weixin_43334693/article/details/129854764?spm=1001.2014.3001.5501
[Link 1]: #%E5%89%8D%E8%A8%80
[Link 2]: #%E4%B8%80%E3%80%81%E4%BA%86%E8%A7%A3%E6%89%80%E9%9C%80%E9%85%8D%E7%BD%AE
[1.1 CUDA]: #1.1%20CUDA
[1.2 cuDNN]: #1.2%20cuDNN
[1.3 Anconda]: #1.3%20Anconda
[1.4 pycharm]: #1.4%C2%A0pycharm
[1.5 pytorch]: #1.5%20pytorch
[CUDA _cuDNN]: #%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85CUDA%20%E5%92%8CcuDNN
[2.1 CUDA]: #2.1%20CUDA%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85
[2.2 cuDNN]: #2.2%20cuDNN%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85
[Anaconda]: #%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85Anaconda%C2%A0
[pytorch]: #%E5%9B%9B%E3%80%81%E5%AE%89%E8%A3%85pytorch%C2%A0
[YOLOv5 1]: #%E4%BA%94%E3%80%81%E9%85%8D%E7%BD%AEYOLOv5%E7%8E%AF%E5%A2%83
[Link 3]: #%E5%85%AD%E3%80%81%E6%B5%8B%E8%AF%95
[PyTorch]: https://so.csdn.net/so/search?q=PyTorch&spm=1001.2101.3001.7020
[Pytorch_-CSDN]: https://blog.csdn.net/weixin_43334693/category_12186888.html?spm=1001.2014.3001.5482
[https_docs.nvidia.com_cuda_cuda-installation-guide-microsoft-windows_index.html]: https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html
[Installation Guide _ NVIDIA Deep Learning cuDNN Documentation]: https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html#installwindows
[nvidia]: https://so.csdn.net/so/search?q=nvidia&spm=1001.2101.3001.7020
[_ NVIDIA]: https://www.nvidia.cn/Download/index.aspx?lang=cn
[cuDNN Download _ NVIDIA Developer]: https://developer.nvidia.com/rdp/cudnn-download
[Anaconda3_HowieXue_-CSDN]: https://blog.csdn.net/HowieXue/article/details/118442904?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168076111016800226510971%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168076111016800226510971&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-118442904-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=Anconda&spm=1018.2226.3001.4187
[Win11_Pytorch_Pycharm_PyTorch_win11_pytorch]: https://blog.csdn.net/java1314777/article/details/128027977
[mirrors _ ultralytics _ yolov5 _ GitCode]: https://gitcode.net/mirrors/ultralytics/yolov5?utm_source=csdn_github_accelerator
[CUDA_cuDNN_kylinmin_-CSDN]: https://blog.csdn.net/anmin8888/article/details/127910084?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168074450216800192219938%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168074450216800192219938&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-127910084-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=CUDA&spm=1018.2226.3001.4187
[yolov5_yolov5_-CSDN]: https://blog.csdn.net/whc18858/article/details/127131741?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168068781616800217279306%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168068781616800217279306&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-5-127131741-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=yolov5%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE&spm=1018.2226.3001.4187